10 ! Test strings including arrays, in memory and virtual, funcs etc.
20 A$="ABC":B$="DEF":C$=A$+"0123"+B$
25 D$=MID(C$,4,4)
30 IF A$ <> "ABC" THEN PRINT "FAIL: A$ SHOULD BE ABC BUT IS ";A$:STOP
50 IF B$ <> "DEF" THEN PRINT "FAIL: B$ SHOULD BE DEF BUT IS ";B$:STOP
60 IF C$ <> "ABC0123DEF" THEN PRINT "FAIL: C$ SHOULD BE ABC0123DEF BUT IS ";C$:STOP
70 IF D$ <> "0123" THEN PRINT "FAIL: D$ SHOULD BE 0123 BUT IS ";D$:STOP
80 IF LEN(C$) <> 10 THEN PRINT "FAIL: LEN(D$) SHOULD BE 4 BUT IS ";LEN(C$):STOP
90 IF ASCII(D$) <> 48 THEN PRINT "FAIL: ASCII(D$) SHOULD BE 48 BUT IS ";ASCII(D$):STOP
100 ! Memory arrays
110 DIM A1$(5):DIM B1$(5):DIM C1$(5):DIM D1$(5)
120 A1$(3)="ABC":B1$(3)="DEF":C1$(3)=A1$(3)+"0123"+B1$(3)
125 D1$(3)=MID(C1$(3),4,4)
130 IF A1$(3) <> "ABC" THEN PRINT "FAIL: A1$(3) SHOULD BE ABC BUT IS ";A1$(3):STOP
150 IF B1$(3) <> "DEF" THEN PRINT "FAIL: B1$(3) SHOULD BE DEF BUT IS ";B1$(3):STOP
160 IF C1$(3) <> "ABC0123DEF" THEN PRINT "FAIL: C1$(3) SHOULD BE ABC0123DEF BUT IS ";C1$(3):STOP
170 IF D1$(3) <> "0123" THEN PRINT "FAIL: D1$(3) SHOULD BE 0123 BUT IS ";D1$(3):STOP
180 IF LEN(C1$(3)) <> 10 THEN PRINT "FAIL: LEN(D1$(3)) SHOULD BE 4 BUT IS ";LEN(C1$(3)):STOP
190 IF ASCII(D1$(3)) <> 48 THEN PRINT "FAIL: ASCII(D1$(3)) SHOULD BE 48 BUT IS ";ASCII(D1$(3)):STOP
200 ! Virtual arrays
205 OPEN "TEST03.BR" AS FILE 1
210 DIM #1, A2$(5):DIM B2$(5):DIM C2$(5):DIM D2$(5)
220 A2$(3)="ABC":B2$(3)="DEF":C2$(3)=A2$(3)+"0123"+B2$(3)
225 D2$(3)=MID(C2$(3),4,4)
230 IF A2$(3) <> "ABC" THEN PRINT "FAIL: A2$(3) SHOULD BE ABC BUT IS ";A2$(3):STOP
250 IF B2$(3) <> "DEF" THEN PRINT "FAIL: B2$(3) SHOULD BE DEF BUT IS ";B2$(3):STOP
260 IF C2$(3) <> "ABC0123DEF" THEN PRINT "FAIL: C2$(3) SHOULD BE ABC0123DEF BUT IS ";C2$(3):STOP
270 IF D2$(3) <> "0123" THEN PRINT "FAIL: D2$(3) SHOULD BE 0123 BUT IS ";D2$(3):STOP
280 IF LEN(C2$(3)) <> 10 THEN PRINT "FAIL: LEN(D2$(3)) SHOULD BE 4 BUT IS ";LEN(C2$(3)):STOP
290 IF ASCII(D2$(3)) <> 48 THEN PRINT "FAIL: ASCII(D2$(3)) SHOULD BE 48 BUT IS ";ASCII(D2$(3)):STOP
300 CLOSE 1
310 KILL "TEST03.BR"
 390 PRINT "TEST03 successful.  Continue (Y/N)?"; : INPUT A$
 400 IF ASCII(A$) = ASCII("Y") THEN CHAIN "TEST04"
 410 END
