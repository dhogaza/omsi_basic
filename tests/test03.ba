10 ! Test strings including arrays, in memory and virtual, funcs etc.
20 A$="ABC":B$="DEF":C$=A$+"0123"+B$
25 D$=MID(C$,4,4)
30 IF A$ <> "ABC" THEN PRINT "FAIL: A$ SHOULD BE ABC BUT IS ";A$:STOP
50 IF B$ <> "DEF" THEN PRINT "FAIL: B$ SHOULD BE DEF BUT IS ";B$:STOP
60 IF C$ <> "ABC0123DEF" THEN PRINT "FAIL: C$ SHOULD BE ABC0123DEF BUT IS ";C$:STOP
70 IF D$ <> "0123" THEN PRINT "FAIL: D$ SHOULD BE 0123 BUT IS ";D$:STOP
80 IF LEN(C$) <> 10 THEN PRINT "FAIL: LEN(D$) SHOULD BE 4 BUT IS ";LEN(C$):STOP
90 IF ASCII(D$) <> 48 THEN PRINT "FAIL: ASCII(D$) SHOULD BE 48 BUT IS ";ASCII(D$):STOP
100 ! Memory arrays
110 DIM E$(5), F$(5), G$(5), H$(5)
120 E$(3)="ABC":F$(3)="DEF":G$(3)=E$(3)+"0123"+F$(3)
125 H$(3)=MID(G$(3),4,4)
130 IF E$(3) <> "ABC" THEN PRINT "FAIL: E$(3) SHOULD BE ABC BUT IS ";E$(3):STOP
150 IF F$(3) <> "DEF" THEN PRINT "FAIL: F$(3) SHOULD BE DEF BUT IS ";F$(3):STOP
160 IF G$(3) <> "ABC0123DEF" THEN PRINT "FAIL: G$(3) SHOULD BE ABC0123DEF BUT IS ";G$(3):STOP
170 IF H$(3) <> "0123" THEN PRINT "FAIL: H$(3) SHOULD BE 0123 BUT IS ";H$(3):STOP
180 IF LEN(G$(3)) <> 10 THEN PRINT "FAIL: LEN(H$(3)) SHOULD BE 4 BUT IS ";LEN(G$(3)):STOP
190 IF ASCII(H$(3)) <> 48 THEN PRINT "FAIL: ASCII(H$(3)) SHOULD BE 48 BUT IS ";ASCII(H$(3)):STOP
200 ! Virtual arrays
203 PRINT "Virutal arrays"
205 OPEN "TEST03.BR" AS FILE 1
210 DIM #1, I$(5), J$(5), K$(5), L$(5)
215 PRINT "1"
220 I$(3)="ABC":J$(3)="DEF":K$(3)=I$(3)+"0123"+J$(3)
224 PRINT "2"
225 L$(3)=MID(K$(3),4,4)
226 PRINT "3"
230 T$ = I$(3): IF T$ <> "ABC" THEN PRINT "FAIL: I$(3) SHOULD BE ABC BUT IS ";I$(3):STOP
236 PRINT "4"
250 T$ = J$(3): IF T$ <> "DEF" THEN PRINT "FAIL: J$(3) SHOULD BE DEF BUT IS ";J$(3):STOP
256 PRINT "5"
260 T$ = K$(3): IF T$ <> "ABC0123DEF" THEN PRINT "FAIL: K$(3) SHOULD BE ABC0123DEF BUT IS ";K$(3):STOP
266 PRINT "6"
270 T$ = L$(3): IF T$ <> "0123" THEN PRINT "FAIL: L$(3) SHOULD BE 0123 BUT IS ";L$(3):STOP
276 PRINT "7"
280 T = LEN(K$(3)): IF T <> 10 THEN PRINT "FAIL: LEN(L$(3)) SHOULD BE 4 BUT IS ";LEN(K$(3)):STOP
286 PRINT "8"
290 T = ASCII(L$(3)): IF T <> 48 THEN PRINT "FAIL: ASCII(L$(3)) SHOULD BE 48 BUT IS ";ASCII(L$(3)):STOP
296 PRINT "9"
300 CLOSE 1
310 KILL "TEST03.BR"
 390 PRINT "TEST03 successful.  Continue (Y/N)?"; : INPUT A$
 400 IF ASCII(A$) = ASCII("Y") THEN CHAIN "TEST04"
 410 END
